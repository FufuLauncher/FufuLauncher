<Window
    x:Class="FufuLauncher.Views.AnnouncementWindowL"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Window.SystemBackdrop>
        <MicaBackdrop Kind="BaseAlt"/>
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" /> <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid x:Name="AppTitleBar" Height="32" Background="Transparent">
            <TextBlock Text="公告" 
                       VerticalAlignment="Center" 
                       Margin="16,0,0,0" 
                       Style="{ThemeResource CaptionTextBlockStyle}"
                       Opacity="0.8"/>
        </Grid>

        <WebView2 x:Name="AnnouncementWebView" 
                  Grid.Row="1"
                  NavigationStarting="AnnouncementWebView_NavigationStarting"
                  NavigationCompleted="AnnouncementWebView_NavigationCompleted"/>

        <Grid x:Name="LoadingOverlay" 
              Grid.Row="1" 
              Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
              Visibility="Collapsed"
              HorizontalAlignment="Stretch" 
              VerticalAlignment="Stretch">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="10">
                <ProgressRing IsActive="True" Width="50" Height="50"/>
                <TextBlock Text="正在加载公告..." 
                           HorizontalAlignment="Center" 
                           Style="{ThemeResource BodyTextBlockStyle}"
                           Opacity="0.7"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>